<ion-modal-view sb-page-background
                class="chatrooms chatrooms-modal">

    <ion-header-bar class="bar-custom">

        <button class="button button-clear"
                ng-click="closeModal()">
            <i ng-class="backButtonIcon()"></i>
        </button>

        <h1 class="title">{{ page_title }}</h1>

    </ion-header-bar>

    <ion-content class="chatrooms"
                 has-bouncing="false">

        <div ng-show="chatroom"
             class="chatrooms-spacer"></div>

        <div class="list"
             ng-if="chatroom"
             ng-class="{'card' : getCardDesign()}">
            <ion-item class="item-divider item-divider-custom">
                {{ ::'Room description' | translate:'chatrooms' }}
            </ion-item>
            <ion-item class="item-custom">
                <span class="padding-horizontal"
                      ng-if="chatroom.description">{{chatroom.description}}</span>
                <span class="padding-horizontal"
                      ng-if="!chatroom.description">{{ ::'No description' | translate:'chatrooms' }}</span>
            </ion-item>
        </div>

        <div ng-show="is_logged_in"
             class="chatrooms-spacer"></div>

        <div class="list"
             ng-if="is_logged_in"
             ng-class="{'card' : getCardDesign()}">
            <ion-item class="item-divider item-divider-custom">
                {{ ::'Nickname' | translate:'chatrooms' }}
            </ion-item>
            <label class="item item-input item-custom">
                <input class="text-left"
                       type="text"
                       ng-model="modalForm.nickname"/>
            </label>
        </div>

        <div ng-show="chatroom"
             class="chatrooms-spacer"></div>

        <div class="list"
             ng-if="chatroom"
             ng-class="{'card' : getCardDesign()}">
            <ion-item class="item-divider item-divider-custom">
                {{ ::'Notifications' | translate:'chatrooms' }}
            </ion-item>
            <ion-radio class="radio-custom radio-item"
                       ng-model="modalForm.notifications.choice"
                       ng-value="'all'">
                <i class="icon n-icons ion-android-notifications"></i> {{ ::'All messages' | translate:'chatrooms' }}
            </ion-radio>
            <ion-radio class="radio-custom radio-item"
                       ng-model="modalForm.notifications.choice"
                       ng-value="'mentions'">
                <i class="icon n-icons ion-android-notifications-none2"></i> {{ ::'Only mentions' | translate:'chatrooms'
                }}
            </ion-radio>
            <ion-radio class="radio-custom radio-item"
                       ng-model="modalForm.notifications.choice"
                       ng-value="'none'">
                <i class="icon n-icons ion-android-notifications-off"></i> {{ ::'None' | translate:'chatrooms' }}
            </ion-radio>
        </div>

        <div ng-show="chatroom"
             class="chatrooms-spacer"></div>

        <div class="list"
             ng-show="chatroomÂ || is_logged_in"
             ng-class="{'padding': getCardDesign()}">
            <button type="submit"
                    ng-class="{'button-block': getCardDesign(), 'button-full': !getCardDesign()}"
                    class="button button-assertive button-assertive-custom button-positive"
                    ng-click="saveAndClose()">
                <i class="icon ion-android-done"></i> {{ ::'Save' | translate:'chatrooms' }}
            </button>

            <div class="padding text-center"
                 ng-show="room && leaveRoom"
                 ng-click="leaveRoom(room)">
                <b>
                    <i class="icon ion-android-exit"></i> {{ ::'Leave room' | translate:'chatrooms' }}
                </b>
            </div>
        </div>

    </ion-content>
</ion-modal-view>
